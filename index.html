<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8">
		<title>算利息</title>
	</head>
	<body>
	</body>
	<script type="text/javascript">
		function add(arr) {
			let money = 0
			const end = new Date().getTime()
			const day = 60 * 60 * 24 * 1000
			arr.forEach(item => {
				const start = new Date(item.date + ' 00:00').getTime()
				const n = Math.ceil((end - start) / day)
				money += n * item.price
				console.log('n', n, money)
			})
			console.log('money', money)
			return money
		}
		const data = [{
			date: '2020-03-08',
			price: 9
		}, {
			date: '2020-03-25',
			price: 3
		}, {
			date: '2020-04-15',
			price: 3
		}, {
			date: '2020-04-25',
			price: 3
		}, {
			date: '2020-05-01',
			price: -6
		}, {
			date: '2020-05-14',
			price: 3
		}, {
			date: '2020-05-15',
			price: 3
		}, {
			date: '2020-07-03',
			price: -3
		}, {
			date: '2020-07-20',
			price: 3
		}, {
			date: '2020-08-01',
			price: 15
		}]
		add(data)
	</script>
</html>
